{"version":3,"file":"static/js/95.9e2d1f43.chunk.js","mappings":"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","sources":["components/item/item.components.tsx","components/search/search.component.tsx","components/items/items.component.tsx"],"sourcesContent":["import './item.component.scss';\nimport {FC, useContext} from 'react';\nimport {Item} from '../../shared/interfaces';\nimport {useNavigate} from 'react-router-dom';\nimport {authContext, cartContext} from '../../context/state';\n\nexport const ItemComponents: FC<Item> = (item) => {\n  const navigate = useNavigate();\n  const {dispatch} = useContext(cartContext);\n  const {state} = useContext(authContext);\n  const addToCartHandler = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (state.authenticated) {\n      dispatch({type: 'add', payload: {item: item, quantity: 1}});\n    } else {\n      navigate('/auth')\n    }\n  }\n\n  const openProduct = () => {\n    navigate(`/store/${item.id}`);\n  }\n  return (\n      <div className=\"item\" onClick={openProduct}>\n        <h4>{`${item.title.slice(0, 20)}...`}</h4>\n        <img src={item.image} alt={item.title}/>\n        <span className=\"item__price\">{item.price}</span>\n        <button onClick={addToCartHandler}>Add to cart</button>\n      </div>\n  );\n}","import { FC } from \"react\";\nimport \"./search.component.scss\";\n\ntype SearchComponentPropsType = { func: (value: string) => void; }\n\nexport const SearchComponent: FC<SearchComponentPropsType> = (props) => {\n  const searchHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n    props.func(e.target.value)\n  }\n\n  return(\n      <form className=\"search\">\n        <input\n            type=\"search\"\n            name=\"search\"\n            id=\"search\"\n            onChange={searchHandler}\n        />\n      </form>\n  );\n}","import \"./items.component.scss\";\nimport React, { FC, useEffect, useState } from \"react\";\nimport { Item } from \"../../shared/interfaces\";\nimport { ItemComponents } from \"../item/item.components\";\nimport { getAll, getCategories } from \"../../services/items.service\";\nimport { SpinnerComponent } from \"../spinner/spinner.component\";\nimport { SearchComponent } from \"../search/search.component\";\n\nconst ItemsComponent: FC = () => {\n  const [items, setItems] = useState<Item[]>([])\n  const [filters, setFilters] = useState({\n    limit: 10,\n    sort: 'asc',\n    category: ''\n  })\n  const [catergories, setCategores] = useState<string[]>([])\n  const [loading, setLoading] = useState(false);\n  const [filterVisibility, setFilterVisibility] = useState(false)\n\n  useEffect(() => {\n    getCategories().then(response => setCategores((response.data)));\n  }, [])\n\n  useEffect(() => {\n    setLoading(true);\n    const {category, limit, sort} = filters;\n    getAll(category, limit, sort)\n        .then(\n            response => {\n              const {status, data} = response;\n              if (status === 200) {\n                setLoading(false);\n                setItems(data);\n              }\n            }\n        );\n  }, [filters])\n\n  const onFilter = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const {name, value} = e.target;\n    setFilters({...filters, [name]: value,})\n  }\n\n  const onCategory = (category: string) => {\n    setFilters({...filters, category: category})\n  }\n\n  const showFilters = () => {\n    setFilterVisibility(!filterVisibility)\n  }\n\n  const onSearch = (req: string) => {\n    const {limit, sort} = filters;\n    getAll('', limit, sort)\n        .then(response => {\n              const newData = response.data.filter(el => el.title.toLowerCase().includes(req.toLowerCase()));\n              setItems(newData)\n            }\n        );\n  }\n\n  return (\n      <>\n        <h2>Items</h2>\n        <div className=\"catalogue\">\n          {loading && <SpinnerComponent></SpinnerComponent>}\n          <aside>\n            <h3>\n              <span>Search and filters</span>\n              <span className=\"show\" onClick={showFilters}>\n                {!filterVisibility && <span>show</span>}\n                {filterVisibility && <span>hide</span>}\n              </span>\n            </h3>\n            <SearchComponent func={onSearch}></SearchComponent>\n            <div className={filterVisibility ? 'category' : 'category show_active'}\n                 onClick={() => onCategory('')}>All\n            </div>\n            {catergories.map(catergory => (\n                <div\n                    key={catergory}\n                    className={filterVisibility ? 'category' : 'category show_active'}\n                    onClick={() => onCategory(catergory)}>\n                  {`${catergory[0].toUpperCase()}${catergory.slice(1, catergory.length)}`}\n                </div>\n            ))}\n            <div className={filterVisibility ? 'filters' : 'filters show_active'}>\n              <div className=\"filter\">\n                <label htmlFor=\"limit\">On page</label>\n                <select\n                    name=\"limit\"\n                    id=\"limit\"\n                    defaultValue={filters.limit}\n                    onChange={(e) => onFilter(e)}>\n                  <option value=\"5\">5</option>\n                  <option value=\"10\">10</option>\n                  <option value=\"20\">20</option>\n                </select>\n              </div>\n              <div className=\"filter\">\n                <label htmlFor=\"sort\">Sort</label>\n                <select\n                    name=\"sort\"\n                    id=\"sort\"\n                    defaultValue={filters.sort}\n                    onChange={(e) => onFilter(e)}>\n                  <option value=\"asc\">Ascending</option>\n                  <option value=\"desc\">Descending</option>\n                </select>\n              </div>\n            </div>\n          </aside>\n          <div className=\"catalogue\">\n            <div className=\"items\">\n              {items.map((item) => (\n                  <ItemComponents key={item.id} {...item} />\n              ))}\n            </div>\n          </div>\n        </div>\n      </>\n  );\n}\n\nexport default ItemsComponent;"],"names":["ItemComponents","item","navigate","useNavigate","dispatch","useContext","cartContext","state","authContext","className","onClick","id","title","slice","src","image","alt","price","e","stopPropagation","authenticated","type","payload","quantity","SearchComponent","props","name","onChange","func","target","value","useState","items","setItems","limit","sort","category","filters","setFilters","catergories","setCategores","loading","setLoading","filterVisibility","setFilterVisibility","useEffect","getCategories","then","response","data","getAll","status","onFilter","onCategory","req","newData","filter","el","toLowerCase","includes","map","catergory","toUpperCase","length","htmlFor","defaultValue"],"sourceRoot":""}