"use strict";(self.webpackChunkfake_store_react=self.webpackChunkfake_store_react||[]).push([[95],{95:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s=n(942),a=n(413),i=n(885),c=n(791),r=n(689),l=n(53),o=n(184),u=function(e){var t=(0,r.s0)(),n=(0,c.useContext)(l.oZ).dispatch,s=(0,c.useContext)(l.gX).state;return(0,o.jsxs)("div",{className:"item",onClick:function(){t("/store/".concat(e.id))},children:[(0,o.jsx)("h4",{children:"".concat(e.title.slice(0,20),"...")}),(0,o.jsx)("img",{src:e.image,alt:e.title}),(0,o.jsx)("span",{className:"item__price",children:e.price}),(0,o.jsx)("button",{onClick:function(a){a.stopPropagation(),s.authenticated?n({type:"add",payload:{item:e,quantity:1}}):t("/auth")},children:"Add to cart"})]})},d=n(910),h=n(840),f=function(e){return(0,o.jsx)("form",{className:"search",children:(0,o.jsx)("input",{type:"search",name:"search",id:"search",onChange:function(t){e.func(t.target.value)}})})},x=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),n=t[0],r=t[1],l=(0,c.useState)({limit:10,sort:"asc",category:""}),x=(0,i.Z)(l,2),m=x[0],j=x[1],v=(0,c.useState)([]),p=(0,i.Z)(v,2),g=p[0],C=p[1],N=(0,c.useState)(!1),Z=(0,i.Z)(N,2),k=Z[0],y=Z[1],w=(0,c.useState)(!1),_=(0,i.Z)(w,2),S=_[0],b=_[1];(0,c.useEffect)((function(){(0,d.CP)().then((function(e){return C(e.data)}))}),[]),(0,c.useEffect)((function(){y(!0);var e=m.category,t=m.limit,n=m.sort;(0,d.go)(e,t,n).then((function(e){var t=e.status,n=e.data;200===t&&(y(!1),r(n))}))}),[m]);var A=function(e){var t=e.target,n=t.name,i=t.value;j((0,a.Z)((0,a.Z)({},m),{},(0,s.Z)({},n,i)))},F=function(e){j((0,a.Z)((0,a.Z)({},m),{},{category:e}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"Items"}),(0,o.jsxs)("div",{className:"catalogue",children:[k&&(0,o.jsx)(h.O,{}),(0,o.jsxs)("aside",{children:[(0,o.jsxs)("h3",{children:[(0,o.jsx)("span",{children:"Search and filters"}),(0,o.jsxs)("span",{className:"show",onClick:function(){b(!S)},children:[!S&&(0,o.jsx)("span",{children:"show"}),S&&(0,o.jsx)("span",{children:"hide"})]})]}),(0,o.jsx)(f,{func:function(e){var t=m.limit,n=m.sort;(0,d.go)("",t,n).then((function(t){var n=t.data.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}));r(n)}))}}),(0,o.jsx)("div",{className:S?"category":"category show_active",onClick:function(){return F("")},children:"All"}),g.map((function(e){return(0,o.jsx)("div",{className:S?"category":"category show_active",onClick:function(){return F(e)},children:"".concat(e[0].toUpperCase()).concat(e.slice(1,e.length))},e)})),(0,o.jsxs)("div",{className:S?"filters":"filters show_active",children:[(0,o.jsxs)("div",{className:"filter",children:[(0,o.jsx)("label",{htmlFor:"limit",children:"On page"}),(0,o.jsxs)("select",{name:"limit",id:"limit",defaultValue:m.limit,onChange:function(e){return A(e)},children:[(0,o.jsx)("option",{value:"5",children:"5"}),(0,o.jsx)("option",{value:"10",children:"10"}),(0,o.jsx)("option",{value:"20",children:"20"})]})]}),(0,o.jsxs)("div",{className:"filter",children:[(0,o.jsx)("label",{htmlFor:"sort",children:"Sort"}),(0,o.jsxs)("select",{name:"sort",id:"sort",defaultValue:m.sort,onChange:function(e){return A(e)},children:[(0,o.jsx)("option",{value:"asc",children:"Ascending"}),(0,o.jsx)("option",{value:"desc",children:"Descending"})]})]})]})]}),(0,o.jsx)("div",{className:"catalogue",children:(0,o.jsx)("div",{className:"items",children:n.map((function(e){return(0,o.jsx)(u,(0,a.Z)({},e),e.id)}))})})]})]})}}}]);
//# sourceMappingURL=95.9e2d1f43.chunk.js.map